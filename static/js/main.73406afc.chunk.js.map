{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.js","components/Container.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","service/Pixabay-api.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/SearchForm.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Modal","handleKeyDown","e","code","console","log","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","className","styles","Overlay","onClick","children","React","Component","Container","Searchbar","state","searchImage","handleNameChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","searchData","alert","onSubmit","s","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autofocus","placeholder","onChange","ImageGalleryItem","url","alt","src","ImageGalleryItem_image","ImageGallery","images","openModal","map","id","webformatURL","tags","largeImageURL","fetchPictures","currentPage","axios","get","then","response","data","hits","Button","LoaderSpiner","color","height","width","timeout","App","showModal","loading","modalImg","modalAlt","error","onSearchData","fetchGallery","options","api","prevState","windowScroll","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","prevProps","loadMoreButton","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.73406afc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3uYLO\",\"Modal\":\"Modal_Modal__oqRxR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__33KyP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__hWTsB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Button_body__FN139\",\"Button\":\"Button_Button__2Vgt7\"};","import React from 'react';\r\nimport styles from '../Modal/Modal.module.css';\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === 'Escape') {\r\n      console.log('close modal');\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    console.log('bkdr ckick');\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\n\r\nconst Container = ({ children }) => <div>{children}</div>;\r\n\r\nexport default Container;\r\n","import React from 'react';\r\nimport styles from '../Searchbar/Searchbar.module.css';\r\nimport s from '../Searchbar/SearchForm.module.css';\r\n// import PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends React.Component {\r\n  state = {\r\n    searchImage: '',\r\n  };\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({ searchImage: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.searchImage.trim() === '') {\r\n      alert('Заполните поисковую строку');\r\n      return;\r\n    }\r\n    this.props.searchData(this.state.searchImage);\r\n    this.setState({ searchImage: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header onSubmit={this.handleSubmit} className={styles.Searchbar}>\r\n        <form className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}></span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchImage}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\n// import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ url, alt }) => {\r\n  return <img src={url} alt={alt} className={s.ImageGalleryItem_image} />;\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport s from '../ImageGallery/ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from '../ImageGalleryItem/ImageGalleryItem.module.css';\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => {\r\n        return (\r\n          <li\r\n            className={styles.ImageGalleryItem}\r\n            key={id}\r\n            onClick={() => {\r\n              openModal(largeImageURL, tags);\r\n            }}\r\n          >\r\n            <ImageGalleryItem url={webformatURL} alt={tags} />\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\r\nconst KEY = '21418455-02afedd09f38bf37a8407aa32';\r\nconst API = 'https://pixabay.com/api';\r\nconst fetchPictures = ({ searchImage = '', currentPage = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `${API}/?q=${searchImage}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default fetchPictures;\r\n","import React from 'react';\r\nimport s from '../Button/Button.module.css';\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst LoaderSpiner = () => {\r\n  return (\r\n    <div className=\"spinner-conteiner\">\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default LoaderSpiner;\r\n","import React, { Component } from 'react';\nimport Modal from './components/Modal/Modal';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport api from './service/Pixabay-api';\nimport Button from './components/Button/Button';\nimport LoaderSpiner from './components/Loader/Loader';\nimport './index.css';\nclass App extends Component {\n  state = {\n    showModal: false,\n    searchImage: '',\n    images: [],\n    loading: false,\n    modalImg: '',\n    modalAlt: '',\n    currentPage: 1,\n    error: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchImage !== this.state.searchImage) {\n      this.fetchGallery();\n    }\n  }\n\n  onSearchData = (data) => {\n    this.setState({\n      searchImage: data,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchGallery = () => {\n    const { currentPage, searchImage } = this.state;\n    const options = { searchImage, currentPage };\n\n    this.setState({ loading: true });\n\n    api(options)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n        this.windowScroll();\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  windowScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  openModal = (url, alt) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImg: url,\n      modalAlt: alt,\n    }));\n  };\n\n  // handleForSubmit = (searchImage) => {\n  //   this.setState({ searchImage });\n  //   console.log(searchImage);\n  // };\n\n  render() {\n    const { loading, images, showModal, modalImg, modalAlt, error } =\n      this.state;\n    const loadMoreButton = images.length > 0 && !loading;\n    return (\n      <Container>\n        <Searchbar searchData={this.onSearchData} />\n\n        {error && <h1> Something went wrong</h1>}\n        <ImageGallery images={images} openModal={this.openModal} />\n        {loading && <LoaderSpiner />}\n\n        {loadMoreButton && <Button onClick={this.fetchGallery} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={modalImg} alt={modalAlt} />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__3Kxz8\",\"SearchForm_button\":\"SearchForm_SearchForm_button__ZjWhS\",\"SearchForm_button-label\":\"SearchForm_SearchForm_button-label__1nS4f\",\"SearchForm_input\":\"SearchForm_SearchForm_input__FN-Rj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1kEHq\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2w2Dv\"};"],"sourceRoot":""}